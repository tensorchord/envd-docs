---
sidebar_position: 6
---


# å¼€å‘æ•™ç¨‹

é¦–å…ˆæ„Ÿè°¢ä½ æ„¿æ„ä¸º`envd`æ·»ç –åŠ ç“¦ ğŸŒŸ! 

æˆ‘ä»¬çš„ç¤¾åŒºæ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®å¹¶ä¸”å¸Œæœ›èƒ½å°½æˆ‘ä»¬æ‰€èƒ½åœ°å»æ‹“å±•â€œè´¡çŒ®è€…â€è¿™ä¸ªè¯çš„å«ä¹‰ã€‚æˆ‘ä»¬çš„[è´¡çŒ®æŒ‡å—](./contributing)åŒ…å«ä¸€äº›å¯ä»¥å‚ä¸åˆ°é¡¹ç›®å…¶ä¸­çš„å…¶ä»–æ–¹å¼ã€‚å¦‚æœä½ æƒ³å‘é¡¹ç›®è´¡çŒ®ä»£ç ï¼Œä¸‹é¢åŒ…å«ä¸€äº›åŸºç¡€çš„æ­¥éª¤ã€‚

## ä»£ç åº“ç»“æ„

`envd`çš„æºä»£ç æ‰˜ç®¡åœ¨[github.com/tensorchord/envd](https://github.com/tensorchord/envd)ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œé¡¹ç›®æ–‡æ¡£çš„æºä»£ç æ‰˜ç®¡åœ¨[github.com/tensorchord/envd-docs](https://github.com/tensorchord/envd-docs)ã€‚

é¡¹ç›®çš„ä»£ç åº“ä¸­æœ‰å¾ˆå¤šæ–‡ä»¶ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç®€çŸ­çš„æ¦‚æ‹¬ã€‚è¿™äº›æ–‡ä»¶ï¼ˆå¤¹ï¼‰çœ‹èµ·æ¥å¾ˆéš¾æ‡‚ï¼Œä½†ä½ ä¸éœ€è¦äº†è§£ä»£ç åº“æ¯ä¸€ä¸ªæ–‡ä»¶çš„ä½œç”¨ã€‚æˆ‘ä»¬æ¨èå…ˆä»ä¸€ä¸ªæ¨¡å—å¼€å§‹å­¦ä¹ ï¼ˆæ¯”å¦‚ï¼Œåœ¨envdä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼‰ï¼Œç„¶åæ…¢æ…¢åœ°å»äº†è§£å…¶ä»–éƒ¨åˆ†ã€‚

- [ğŸ“ base-images/](https://github.com/tensorchord/envd/tree/main/base-images) åŒ…å« Dockerfileså’ŒenvdåŸºç¡€é•œåƒçš„å»ºé€ è„šæœ¬ã€‚
- [ğŸ“ cmd/](https://github.com/tensorchord/envd/tree/main/cmd) åŒ…å« `envd` å’Œ `envd-ssh` çš„å‘½ä»¤è¡Œç•Œé¢ä»£ç 
    - [ğŸ“ envd/](https://github.com/tensorchord/envd/tree/main/cmd/envd) `envd` çš„å‘½ä»¤è¡Œç•Œé¢
    - [ğŸ“ envd-ssh/](https://github.com/tensorchord/envd/tree/main/cmd/envd-ssh) `envd-ssh` çš„å‘½ä»¤è¡Œç•Œé¢ï¼Œenvdç”¨æˆ·ä¸ä¼šç›´æ¥ä½¿ç”¨å®ƒã€‚å®ƒä¼šæ³¨å…¥åˆ°è¿è¡Œç¯å¢ƒæ¥å°„è€…sshd
- [ğŸ“ docs/](https://github.com/tensorchord/envd/tree/main/docs) å¹¶ä¸åŒ…å«æ–‡æ¡£ï¼å®ƒåŒ…å« `README.md` ä¸­çš„æè®®å’Œé™æ€èµ„æºã€‚é¡¹ç›®æ–‡æ¡£æ‰˜ç®¡åœ¨[github.com/tensorchord/envd-docs](https://github.com/tensorchord/envd-docs)ã€‚
- [ğŸ“ envd/](https://github.com/tensorchord/envd/tree/main/envd) åŒ…å«ä¸€ä¸ªç”¨æ¥ç”ŸæˆAPIå¼•ç”¨çš„å‡pythonåŒ…ã€‚ä½ åªéœ€è¦åœ¨å¯¹envd APIåšå‡ºä¿®æ”¹æ—¶æ‰éœ€è¦å¯¹è¿™ä¸ªéƒ¨åˆ†åšå‡ºæ”¹åŠ¨ã€‚
- [ğŸ“ examples/](https://github.com/tensorchord/envd/tree/main/examples) åŒ…å«envdçš„ä¸€äº›ç¤ºä¾‹ä»£ç ã€‚
- [ğŸ“ pkg/](https://github.com/tensorchord/envd/tree/main/pkg) åŒ…å«envdå‘½ä»¤è¡Œç•Œé¢çš„ä»£ç å®ç°ã€‚
    - [ğŸ“ app/](https://github.com/tensorchord/envd/tree/main/pkg/app) åŒ…å«å‘½ä»¤è¡Œç•Œé¢çš„é…ç½®ã€‚
    - [ğŸ“ autocomplete/](https://github.com/tensorchord/envd/tree/main/pkg/autocomplete) åŒ…å«bashå’Œzshçš„è‡ªåŠ¨è¡¥å…¨ä»£ç ã€‚
    - [ğŸ“ builder/](https://github.com/tensorchord/envd/tree/main/pkg/builder) åŒ…å«buildkitçš„å»ºé€ å™¨ï¼Œå®ƒæ˜¯é¡¹ç›®ä¸­éå¸¸é‡è¦çš„ä¸€ä¸ªéƒ¨åˆ†ã€‚å»ºé€ å™¨ä¼šå°†starlarkç¼–è¯‘æˆ[buildkit LLB](https://github.com/moby/buildkit#exploring-llb)ï¼Œç„¶åå†æ„é€ é•œåƒã€‚
    - [ğŸ“ buildkitd/](https://github.com/tensorchord/envd/tree/main/pkg/buildkitd) åŒ…å«è¿æ¥buildkitdå®¹å™¨çš„å®¢æˆ·ç«¯ä»£ç ã€‚
    - [ğŸ“ config/](https://github.com/tensorchord/envd/tree/main/pkg/config) åŒ…å«envdçš„é…ç½®æ–‡ä»¶ã€‚
    - [ğŸ“ docker/](https://github.com/tensorchord/envd/tree/main/pkg/docker) åŒ…å«ä½¿ç”¨dockerè¿›ç¨‹çš„å®¢æˆ·ç«¯ä»£ç ã€‚
    - [ğŸ“ editor/](https://github.com/tensorchord/envd/tree/main/pkg/editor) åŒ…å«vscodeå’Œjupyterç›¸å…³çš„ä»£ç å®ç°ã€‚
    - [ğŸ“ envd/](https://github.com/tensorchord/envd/tree/main/pkg/envd) åŒ…å«envdå¼•æ“ä»£ç ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨æ¥ç®¡ç†envdç¯å¢ƒçš„æŠ½è±¡å±‚ã€‚
    - [ğŸ“ flag/](https://github.com/tensorchord/envd/tree/main/pkg/flag) åŒ…å«[viper](https://github.com/spf13/viper)çš„flagsä¿¡æ¯ã€‚
    - [ğŸ“ home/](https://github.com/tensorchord/envd/tree/main/pkg/home) åŒ…å«ç”¨æ¥ç®¡ç†[XDG directories](https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html)çš„ä»£ç  (æ¯”å¦‚ `$HOME/.config/envd` å’Œ `$HOME/.cache/envd`).
    - [ğŸ“ lang/](https://github.com/tensorchord/envd/tree/main/pkg/lang) åŒ…å«å»ºé€ è¯­è¨€ä»£ç ã€‚å¦‚æœä½ æƒ³å¾€envdåŠ å…¥æ–°å‡½æ•°ï¼Œé‚£ä¹ˆä½ éœ€è¦æ›´æ–°è¯¥éƒ¨åˆ†ã€‚
    - [ğŸ“ progress/](https://github.com/tensorchord/envd/tree/main/pkg/progress) åŒ…å«å»ºé€ è¿›å±•çš„è¾“å‡ºä»£ç ã€‚å¤§éƒ¨åˆ†æƒ…å†µä½ éƒ½ä¸éœ€è¦ä¿®æ”¹å®ƒã€‚
    - [ğŸ“ remote/](https://github.com/tensorchord/envd/tree/main/pkg/remote) åŒ…å«sshdçš„ä»£ç å®ç°ã€‚å¤§éƒ¨åˆ†æƒ…å†µä½ éƒ½ä¸éœ€è¦ä¿®æ”¹å®ƒã€‚
    - [ğŸ“ shell/](https://github.com/tensorchord/envd/tree/main/pkg/shell) åŒ…å«zshç›¸å…³çš„ä»£ç ã€‚
    - [ğŸ“ ssh/](https://github.com/tensorchord/envd/tree/main/pkg/ssh) åŒ…å«ä¸€ä¸ªsshå®¢æˆ·ç«¯ï¼Œåœ¨æ‰§è¡Œ `envd up` æ—¶å®ƒè´Ÿè´£è¿æ¥åˆ°è¿è¡Œå®¹å™¨ã€‚
    - [ğŸ“ types/](https://github.com/tensorchord/envd/tree/main/pkg/types) å®šä¹‰äº†ä¸€äº›åœ¨[ğŸ“ pkg/envd](https://github.com/tensorchord/envd/tree/main/pkg/envd)ç”¨åˆ°çš„ç±»å‹ã€‚

## å¼€å‘æµç¨‹

ä¸‹é¢çš„è¿™äº›æ­¥éª¤ä¼šå¸¦ä½ ç†Ÿæ‚‰å¦‚ä½•åˆå§‹çš„è®¾ç½®æ­¥éª¤å’Œå¼€å‘æµç¨‹ã€‚å¦‚æœä½ æœ‰ä»»ä½•ç–‘é—®ï¼Œä½ å¯ä»¥åœ¨[discord](https://discord.gg/KqswhpVgdU)ä¸Šé—®ï¼Œæˆ–è€…åœ¨issuesæ¿å—ä¸­æè¿°ä½ æœ‰ç–‘é—®çš„æ­¥éª¤ï¼Œæˆ‘ä»¬ä¼šå°½åŠ›å¸®åŠ©ä½ è§£å†³é—®é¢˜ã€‚

1. Install [Docker](https://www.docker.com/products/docker-desktop/) (20.10.0 or above) and [Golang](https://go.dev/dl/) (1.18 or above).
1. [Fork](https://help.github.com/articles/fork-a-repo) the [envd repository](https://github.com/tensorchord/envd) into your own GitHub account.
1. Clone your new fork of the repository from GitHub onto your local computer.
    ```
    $ git clone https://github.com/YOUR_USERNAME/envd.git
    ```
1. Install the dependencies and compile envd.
    ```
    $ go mod tidy
    $ make
    $ ./bin/envd bootstrap
    $ ./bin/envd --version
    ```
1. Make some changes locally to the codebase and commit them with Git.
    ```
    $ git add -u
    $ git commit -m "YOUR COMMIT MESSAGE"
    ```
1. [Push](https://help.github.com/articles/github-glossary/#push) your new changes to your fork on GitHub.
    ```
    $ git push
    ```

### Lint

You could run the command below

```
make lint
```

You should see output similar to the following if there is any linting issue:

```
cmd/envd/main.go:36:67: Revision not declared by package version (typecheck)
                fmt.Println(c.App.Name, version.Package, c.App.Version, version.Revision)
                                                                                ^
make: *** [Makefile:102: lint] Error 1
```

### Running tests

To run tests you can issue

```
make test
```

## `envd up` from a developer's perspective

`envd` interprets all statements in `build.envd` and executes `build()`. The function calls such as [`install.python_packages`](../api/install#python_packages) and [`config.jupyter`](../api/config#jupyter) register information to envd's in-memory static graph. Then `envd` constructs the [buildkit LLB DAG graph](https://github.com/moby/buildkit#exploring-llb) according to the information and uses it to build resulting image.

![](./assets/envd-arch.svg)

## GitHub Issue Flow

- Issues tagged as [`good first issue ğŸ’–`](https://github.com/tensorchord/envd/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue+%E2%9D%A4%EF%B8%8F%22) are a good place to get started. 
- If you'd like to start working on an existing issue, comment on the issue that you plan to work on it so other contributors know it's being handled and can offer help.
